import pytest

from drain_fill import drain_fill


@pytest.mark.parametrize(
    ('args', 'expected'),
    [
        (([],), []),
        (([0],), [0]),
        (([1], 2, 2), [1]),
        (([1, 1, 1, 1, ],), [0, 0, 0, 0]),
        (([1, 2, 3, 4], 4), [3, 2, 1, 0]),
        (([4, 3, 2, 1, 2, 3, 4],), [0, 1, 2, 3, 2, 1, 0]),
        (([4, 0, 2, 1, 2, 3, 4],), [0, 0, 0, 1, 0, 0, 0]),
        (([4, 3, 2, 0, 2, 3, 4],), [0, 0, 0, 0, 0, 0, 0]),
        (([2, 4, 1, 0, 3, 1, 1, 2, 0, 3, 1, 2],), [0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0]),
        (([10, 2, 4, 1, 0, 3, 1, 1, 2, 0, 3, 1, 2, 10],), [0, 2, 0, 0, 0, 0, 1, 1, 0, 0, 0, 2, 1, 0]),
        (([0, 2, 4, 1, 0, 3, 1, 1, 2, 0, 3, 1, 2, 0],), [0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0]),
        (([10, 2, 3, 10],), [0, 8, 7, 0]),
        (([1] * 10000, 100, 10000), [99] * 10000),
        (([1] * 4999 + [0] + [1] * 5000, 10000, 100), [0] * 10000)
    ]
)
def test_drain_fill(args, expected):
    assert drain_fill(*args) == expected
